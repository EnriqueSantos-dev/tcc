enum role {
  ADMIN
  MANAGE
  BASIC
}

table session {
  id text [pk, not null]
  user_id text [not null]
  expires_at "timestamp with time zone" [not null]
}

table users {
  id varchar(191) [pk, not null]
  clerk_user_id text [not null, unique]
  first_name text
  last_name text
  email text [not null, unique]
  image text
  role role [not null, default: 'BASIC']
  created_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
  deleted_at timestamp

  indexes {
    email [name: 'email', unique]
    clerk_user_id [name: 'clerk_user_id', unique]
  }
}

table modules {
  id varchar(191) [pk, not null]
  name varchar(200) [not null]
  description text
  user_id text [not null]
  created_at timestamp [default: `now()`]
  updated_at timestamp [default: `now()`]
}

table documents {
  id varchar(191) [pk, not null]
  name varchar(255) [not null]
  description varchar(255)
  owner_id text [not null]
  module_id text [not null]
  file_id text
  created_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
}

table files {
  id varchar(191) [pk, not null]
  filename varchar(200) [not null]
  file_url text [not null]
  file_type text [not null]
  file_size integer [not null]
  created_at timestamp [not null, default: `now()`]
  updated_at timestamp [not null, default: `now()`]
}

ref: session.user_id - users.id

ref: modules.user_id > users.id

ref: documents.module_id > modules.id

ref: documents.file_id - files.id